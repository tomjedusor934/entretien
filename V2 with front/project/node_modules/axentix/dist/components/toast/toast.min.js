var F=Object.defineProperty;var V=(o,i,n)=>i in o?F(o,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[i]=n;var C=(o,i,n)=>(V(o,typeof i!="symbol"?i+"":i,n),n),A=(o,i,n)=>{if(!i.has(o))throw TypeError("Cannot "+n)};var d=(o,i,n)=>(A(o,i,"read from private field"),n?n.call(o):i.get(o)),l=(o,i,n)=>{if(i.has(o))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(o):i.set(o,n)},E=(o,i,n,p)=>(A(o,i,"write to private field"),p?p.call(o,n):i.set(o,n),n);var c=(o,i,n)=>(A(o,i,"access private method"),n);(function(o,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(o=typeof globalThis!="undefined"?globalThis:o||self,o.Toast=i())})(this,function(){var h,a,g,I,y,k,x,M,b,P,D,H,T,N,u,w;"use strict";var o="";const i=[],n={components:[],plugins:[],prefix:"ax",mode:""},p=r=>`--${n.prefix}-${r}`,R=r=>n.components.find(t=>t.name===r).class,U=()=>{const r=n.components.filter(e=>e.dataDetection),t=n.plugins.filter(e=>e.dataDetection);return[...r,...t].map(e=>e.name)},q=(r,t)=>{if(!r.name||!r.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(n[t].some(e=>e.name===r.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}r.autoInit&&(r.autoInit.selector=r.autoInit.selector+=":not(.no-axentix-init)"),n[t].push(r)},B=r=>{q(r,"components")},S=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let e=t.dataset.ax;if(e=e[0].toUpperCase()+e.slice(1).toLowerCase(),!U().includes(e)){console.error(`[Axentix] Error: ${e} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const s=R(e);new s(`#${t.id}`)}catch(s){console.error("[Axentix] Data: Unable to load "+e,s)}})},X=()=>{try{new Axentix.Axentix("all")}catch(r){console.error("[Axentix] Unable to auto init.",r)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&X(),S()});const v=(...r)=>r.reduce((t,e)=>{for(let s in e)t[s]=typeof e[s]=="object"&&e[s]!==null?v(t[s],e[s]):e[s];return t},{}),f=(r,t,e)=>{const s=new CustomEvent("ax."+t,{detail:e||{},bubbles:!0});r.dispatchEvent(s)},Y=r=>i.filter(t=>t.type===r).map(t=>t.instance),z={animationDuration:400,duration:4e3,classes:"",position:"right",direction:"top",mobileDirection:"bottom",offset:{x:"5%",y:"0%",mobileX:"10%",mobileY:"0%"},isClosable:!1,closableContent:"x",loading:{enabled:!0,border:"2px solid #E2E2E2"}},L=class{constructor(t,e){l(this,g);l(this,y);l(this,x);l(this,b);l(this,D);l(this,T);l(this,u);C(this,"options");C(this,"id");l(this,h,void 0);l(this,a,void 0);if(Y("Toast").length>0){console.error("[Axentix] Toast: Don't try to create multiple toast instances");return}i.push({type:"Toast",instance:this}),this.id=Math.random().toString().split(".")[1],E(this,h,t),this.options=v(L.getDefaultOptions(),e),this.options.position=this.options.position.toLowerCase(),this.options.direction=this.options.direction.toLowerCase(),this.options.mobileDirection=this.options.mobileDirection.toLowerCase(),E(this,a,{})}destroy(){const t=i.findIndex(e=>e.instance.id===this.id);i.splice(t,1)}show(){try{Object.keys(d(this,a)).includes(this.options.position)||c(this,g,I).call(this),c(this,T,N).call(this)}catch(t){console.error("[Axentix] Toast error",t)}}change(t,e){E(this,h,t),this.options=v(this.options,e)}};let m=L;return h=new WeakMap,a=new WeakMap,g=new WeakSet,I=function(){let t=document.createElement("div");["right","left"].includes(this.options.position)||(this.options.position="right"),this.options.position==="right"?t.style.right=this.options.offset.x:t.style.left=this.options.offset.x;const s=["bottom","top"];s.includes(this.options.direction)||(this.options.direction="top"),this.options.direction==="top"?t.style.top=this.options.offset.y:t.style.bottom=this.options.offset.y,s.includes(this.options.mobileDirection)||(this.options.mobileDirection="bottom"),t.style.setProperty(p("toaster-m-width"),100-this.options.offset.mobileX.slice(0,-1)+"%"),t.style.setProperty(p("toaster-m-offset"),this.options.offset.mobileY),this.options.loading.enabled&&t.style.setProperty(p("toast-loading-border"),this.options.loading.border),t.className=`toaster toaster-${this.options.position} toast-${this.options.direction} toaster-m-${this.options.mobileDirection}`,d(this,a)[this.options.position]=t,document.body.appendChild(t)},y=new WeakSet,k=function(){for(const t in d(this,a)){let e=d(this,a)[t];e.childElementCount<=0&&(e.remove(),delete d(this,a)[t])}},x=new WeakSet,M=function(t){setTimeout(()=>{f(t,"toast.show"),this.options.loading.enabled&&(t.classList.add("toast-loading"),t.style.setProperty(p("toast-loading-duration"),this.options.duration+"ms")),t.classList.add("toast-animated"),setTimeout(()=>{f(t,"toast.shown"),this.options.loading.enabled&&t.classList.add("toast-load")},this.options.animationDuration)},50)},b=new WeakSet,P=function(t){setTimeout(()=>{f(t,"toast.hide"),c(this,u,w).call(this,t)},this.options.duration+this.options.animationDuration)},D=new WeakSet,H=function(t){t.style.transitionTimingFunction="cubic-bezier(0.445, 0.05, 0.55, 0.95)",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.margin="0",t.style.height="0"},T=new WeakSet,N=function(){let t=document.createElement("div");if(t.className="toast shadow-1 "+this.options.classes,t.innerHTML=d(this,h),t.style.transitionDuration=this.options.animationDuration+"ms",this.options.isClosable){let s=document.createElement("div");s.className="toast-trigger",s.innerHTML=this.options.closableContent,s.listenerRef=c(this,u,w).bind(this,t,s),s.addEventListener("click",s.listenerRef),t.appendChild(s)}c(this,x,M).call(this,t),d(this,a)[this.options.position].appendChild(t),c(this,b,P).call(this,t);const e=t.clientHeight;t.style.height=e+"px"},u=new WeakSet,w=function(t,e,s){if(t.isAnimated)return;let $=1;s&&(s.preventDefault(),$=0,this.options.isClosable&&e.removeEventListener("click",e.listenerRef)),t.style.opacity="0",t.isAnimated=!0;const O=$*this.options.animationDuration+this.options.animationDuration;setTimeout(()=>{c(this,D,H).call(this,t)},O/2),setTimeout(()=>{t.remove(),f(t,"toast.remove"),c(this,y,k).call(this)},O*1.45)},C(m,"getDefaultOptions",()=>z),B({class:m,name:"Toast"}),m});
