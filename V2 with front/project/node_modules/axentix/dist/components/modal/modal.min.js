var V=Object.defineProperty;var W=(o,i,n)=>i in o?V(o,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[i]=n;var L=(o,i,n)=>(W(o,typeof i!="symbol"?i+"":i,n),n),b=(o,i,n)=>{if(!i.has(o))throw TypeError("Cannot "+n)};var c=(o,i,n)=>(b(o,i,"read from private field"),n?n.call(o):i.get(o)),m=(o,i,n)=>{if(i.has(o))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(o):i.set(o,n)},u=(o,i,n,y)=>(b(o,i,"write to private field"),y?y.call(o,n):i.set(o,n),n);var A=(o,i,n)=>(b(o,i,"access private method"),n);(function(o,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(o=typeof globalThis!="undefined"?globalThis:o||self,o.Modal=i())})(this,function(){var v,d,h,p,D,I,E,M,O,q;"use strict";var o="";const i=[],n={components:[],plugins:[],prefix:"ax",mode:""},y=s=>n.components.find(e=>e.name===s).class,w=()=>{const s=n.components.filter(t=>t.dataDetection),e=n.plugins.filter(t=>t.dataDetection);return[...s,...e].map(t=>t.name)},$=(s,e)=>{if(!s.name||!s.class){console.error(`[Axentix] Error registering ${e} : Missing required parameters.`);return}if(n[e].some(t=>t.name===s.name)){console.error(`[Axentix] Error registering ${e} : Already exist.`);return}s.autoInit&&(s.autoInit.selector=s.autoInit.selector+=":not(.no-axentix-init)"),n[e].push(s)},U=s=>{$(s,"components")},N=s=>s.replace(/[\w]([A-Z])/g,e=>e[0]+"-"+e[1]).toLowerCase(),z=(s,e="")=>{const t=N(s);return e?e+"-"+t:t},F=(s,e,t,r,a="")=>{const l=e[0].toUpperCase()+e.slice(1).toLowerCase();w().includes(l)&&t!=="Collapsible"&&l!=="Sidenav"&&(s[e]=y(l).getDefaultOptions());const g=a?a+"-"+e:e,x=S(s[e],t,r,g);if(!(Object.keys(x).length===0&&s.constructor===Object))return x},S=(s,e,t,r="")=>Object.keys(s).reduce((a,l)=>{if(typeof s[l]=="object"&&s[l]!==null){const g=F(s,l,e,t,r);g&&(a[l]=g)}else if(s[l]!==null){const g="data-"+e.toLowerCase()+"-"+z(l,r);if(t.hasAttribute(g)){const x=t.getAttribute(g);a[l]=typeof s[l]=="number"?Number(x):x,typeof s[l]=="boolean"&&(a[l]=x==="true")}}return a},{}),Z=(s,e)=>{const t=Object.assign({},y(s).getDefaultOptions());return S(t,s,e)},B=()=>{document.querySelectorAll("[data-ax]").forEach(e=>{let t=e.dataset.ax;if(t=t[0].toUpperCase()+t.slice(1).toLowerCase(),!w().includes(t)){console.error(`[Axentix] Error: ${t} component doesn't exist. 
 Did you forget to register him ?`,e);return}try{const r=y(t);new r(`#${e.id}`)}catch(r){console.error("[Axentix] Data: Unable to load "+t,r)}})},P=()=>{try{new Axentix.Axentix("all")}catch(s){console.error("[Axentix] Unable to auto init.",s)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&P(),B()});const k=(...s)=>s.reduce((e,t)=>{for(let r in t)e[r]=typeof t[r]=="object"&&t[r]!==null?k(e[r],t[r]):t[r];return e},{}),G=(s,e,t)=>k(y(s).getDefaultOptions(),Z(s,t),e),f=(s,e,t)=>{const r=new CustomEvent("ax."+e,{detail:t||{},bubbles:!0});s.dispatchEvent(r)},H=s=>{const e=i.find(t=>t.type!=="Toast"&&"#"+t.instance.el.id===s);return e?e.instance:!1},J=(s,e,t,r)=>{const a=s&&e?document.querySelector(`.ax-overlay[data-target="${t}"]`):document.createElement("div");return a.classList.add("ax-overlay"),a.style.transitionDuration=r+"ms",a.dataset.target=t,a},T=(s,e,t,r,a)=>{!s||(r?(e.addEventListener("click",t),document.body.appendChild(e),setTimeout(()=>{e.classList.add("active")},50)):(e.classList.remove("active"),setTimeout(()=>{e.removeEventListener("click",t),document.body.removeChild(e)},a)))},K=(s,e='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(e.replace("{ID}",s)));class Q{constructor(){L(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(e){if(e&&H(e))throw new Error(`Instance already exist on ${e}`)}sync(){f(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){f(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){f(this.el,"component.destroy"),this.removeListeners();const e=i.findIndex(t=>t.instance.el.id===this.el.id);i.splice(e,1)}}const R={overlay:!0,bodyScrolling:!1,animationDuration:400};class C extends Q{constructor(t,r){super();m(this,D);m(this,E);m(this,O);L(this,"options");L(this,"overlayElement");m(this,v,void 0);m(this,d,!1);m(this,h,!1);m(this,p,void 0);try{this.preventDbInstance(t),i.push({type:"Modal",instance:this}),this.el=document.querySelector(t),this.options=G("Modal",r,this.el),this.setup()}catch(a){console.error("[Axentix] Modal init error",a)}}setup(){f(this.el,"modal.setup"),u(this,v,K(this.el.id)),u(this,d,!!this.el.classList.contains("active")),u(this,h,!1),this.setupListeners(),this.options.overlay&&(this.overlayElement=J(c(this,d),this.options.overlay,this.el.id,this.options.animationDuration)),this.el.style.transitionDuration=this.options.animationDuration+"ms",this.el.style.animationDuration=this.options.animationDuration+"ms"}setupListeners(){u(this,p,A(this,O,q).bind(this)),c(this,v).forEach(t=>t.addEventListener("click",c(this,p)))}removeListeners(){c(this,v).forEach(t=>t.removeEventListener("click",c(this,p))),u(this,p,void 0)}open(){c(this,d)||(f(this.el,"modal.open"),u(this,d,!0),u(this,h,!0),A(this,E,M).call(this),this.el.style.display="block",T(this.options.overlay,this.overlayElement,c(this,p),!0,this.options.animationDuration),A(this,D,I).call(this,!1),setTimeout(()=>{this.el.classList.add("active")},50),setTimeout(()=>{u(this,h,!1),f(this.el,"modal.opened")},this.options.animationDuration))}close(){!c(this,d)||(f(this.el,"modal.close"),u(this,h,!0),this.el.classList.remove("active"),T(this.options.overlay,this.overlayElement,c(this,p),!1,this.options.animationDuration),setTimeout(()=>{this.el.style.display="",u(this,h,!1),u(this,d,!1),A(this,D,I).call(this,!0),f(this.el,"modal.closed")},this.options.animationDuration))}}return v=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,D=new WeakSet,I=function(t){this.options.bodyScrolling||(document.body.style.overflow=t?"":"hidden")},E=new WeakSet,M=function(){const t=document.querySelectorAll(".modal.active").length+1;this.options.overlay&&(this.overlayElement.style.zIndex=String(800+t*10-2)),this.el.style.zIndex=String(800+t*10)},O=new WeakSet,q=function(t){t.preventDefault(),!c(this,h)&&(c(this,d)?this.close():this.open())},L(C,"getDefaultOptions",()=>R),U({class:C,name:"Modal",dataDetection:!0,autoInit:{enabled:!0,selector:".modal"}}),C});
