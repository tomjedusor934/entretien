var tt=Object.defineProperty;var et=(n,i,o)=>i in n?tt(n,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[i]=o;var k=(n,i,o)=>(et(n,typeof i!="symbol"?i+"":i,o),o),q=(n,i,o)=>{if(!i.has(n))throw TypeError("Cannot "+o)};var r=(n,i,o)=>(q(n,i,"read from private field"),o?o.call(n):i.get(n)),p=(n,i,o)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,o)},c=(n,i,o,g)=>(q(n,i,"write to private field"),g?g.call(n,o):i.set(n,o),o);var L=(n,i,o)=>(q(n,i,"access private method"),o);(function(n,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis!="undefined"?globalThis:n||self,n.Dropdown=i())})(this,function(){var u,y,f,d,v,w,x,E,$,O,U,T,N,b,B,A,H;"use strict";var n="";const i=[],o={components:[],plugins:[],prefix:"ax",mode:""},g=s=>o.components.find(e=>e.name===s).class,R=()=>{const s=o.components.filter(t=>t.dataDetection),e=o.plugins.filter(t=>t.dataDetection);return[...s,...e].map(t=>t.name)},F=(s,e)=>{if(!s.name||!s.class){console.error(`[Axentix] Error registering ${e} : Missing required parameters.`);return}if(o[e].some(t=>t.name===s.name)){console.error(`[Axentix] Error registering ${e} : Already exist.`);return}s.autoInit&&(s.autoInit.selector=s.autoInit.selector+=":not(.no-axentix-init)"),o[e].push(s)},M=s=>{F(s,"components")},P=s=>s.replace(/[\w]([A-Z])/g,e=>e[0]+"-"+e[1]).toLowerCase(),Z=(s,e="")=>{const t=P(s);return e?e+"-"+t:t},z=(s,e,t,a,m="")=>{const l=e[0].toUpperCase()+e.slice(1).toLowerCase();R().includes(l)&&t!=="Collapsible"&&l!=="Sidenav"&&(s[e]=g(l).getDefaultOptions());const D=m?m+"-"+e:e,C=S(s[e],t,a,D);if(!(Object.keys(C).length===0&&s.constructor===Object))return C},S=(s,e,t,a="")=>Object.keys(s).reduce((m,l)=>{if(typeof s[l]=="object"&&s[l]!==null){const D=z(s,l,e,t,a);D&&(m[l]=D)}else if(s[l]!==null){const D="data-"+e.toLowerCase()+"-"+Z(l,a);if(t.hasAttribute(D)){const C=t.getAttribute(D);m[l]=typeof s[l]=="number"?Number(C):C,typeof s[l]=="boolean"&&(m[l]=C==="true")}}return m},{}),G=(s,e)=>{const t=Object.assign({},g(s).getDefaultOptions());return S(t,s,e)},J=()=>{document.querySelectorAll("[data-ax]").forEach(e=>{let t=e.dataset.ax;if(t=t[0].toUpperCase()+t.slice(1).toLowerCase(),!R().includes(t)){console.error(`[Axentix] Error: ${t} component doesn't exist. 
 Did you forget to register him ?`,e);return}try{const a=g(t);new a(`#${e.id}`)}catch(a){console.error("[Axentix] Data: Unable to load "+t,a)}})},K=()=>{try{new Axentix.Axentix("all")}catch(s){console.error("[Axentix] Unable to auto init.",s)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&K(),J()});const V=(...s)=>s.reduce((e,t)=>{for(let a in t)e[a]=typeof t[a]=="object"&&t[a]!==null?V(e[a],t[a]):t[a];return e},{}),Q=(s,e,t)=>V(g(s).getDefaultOptions(),G(s,t),e),h=(s,e,t)=>{const a=new CustomEvent("ax."+e,{detail:t||{},bubbles:!0});s.dispatchEvent(a)},W=s=>i.filter(e=>e.type===s).map(e=>e.instance),X=s=>{const e=i.find(t=>t.type!=="Toast"&&"#"+t.instance.el.id===s);return e?e.instance:!1},Y=(s,e='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(e.replace("{ID}",s)));class _{constructor(){k(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(e){if(e&&X(e))throw new Error(`Instance already exist on ${e}`)}sync(){h(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){h(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){h(this.el,"component.destroy"),this.removeListeners();const e=i.findIndex(t=>t.instance.el.id===this.el.id);i.splice(e,1)}}const j={animationDuration:300,animationType:"none",hover:!1,autoClose:!0,preventViewport:!1,closeOnClick:!0};class I extends _{constructor(t,a){super();p(this,E);p(this,O);p(this,T);p(this,b);p(this,A);k(this,"options");p(this,u,void 0);p(this,y,void 0);p(this,f,!1);p(this,d,!1);p(this,v,void 0);p(this,w,void 0);p(this,x,void 0);try{this.preventDbInstance(t),i.push({type:"Dropdown",instance:this}),this.el=document.querySelector(t),this.options=Q("Dropdown",a,this.el),this.setup()}catch(m){console.error("[Axentix] Dropdown init error",m)}}setup(){h(this.el,"dropdown.setup"),c(this,u,this.el.querySelector(".dropdown-content")),c(this,y,Y(this.el.id)[0]),c(this,f,!1),c(this,d,!!this.el.classList.contains("active")),this.options.hover?this.el.classList.add("active-hover"):this.setupListeners(),this.options.preventViewport&&this.el.classList.add("dropdown-vp"),L(this,E,$).call(this)}setupListeners(){this.options.hover||(c(this,w,L(this,T,N).bind(this)),r(this,y).addEventListener("click",r(this,w)),c(this,v,L(this,O,U).bind(this)),document.addEventListener("click",r(this,v),!0),c(this,x,L(this,A,H).bind(this)),this.options.preventViewport&&window.addEventListener("scroll",r(this,x)))}removeListeners(){this.options.hover||(r(this,y).removeEventListener("click",r(this,w)),c(this,w,void 0),document.removeEventListener("click",r(this,v),!0),c(this,v,void 0),this.options.preventViewport&&window.removeEventListener("scroll",r(this,x)),c(this,x,void 0))}open(){r(this,d)||(h(this.el,"dropdown.open"),r(this,u).style.display="flex",this.options.preventViewport&&L(this,A,H).call(this),setTimeout(()=>{this.el.classList.add("active"),c(this,d,!0)},10),this.options.autoClose&&L(this,b,B).call(this),this.options.animationType!=="none"?(c(this,f,!0),setTimeout(()=>{c(this,f,!1),h(this.el,"dropdown.opened")},this.options.animationDuration)):h(this.el,"dropdown.opened"))}close(){!r(this,d)||(h(this.el,"dropdown.close"),this.el.classList.remove("active"),this.options.animationType!=="none"?(c(this,f,!0),setTimeout(()=>{r(this,u).style.display="",c(this,f,!1),c(this,d,!1),h(this.el,"dropdown.closed")},this.options.animationDuration)):(r(this,u).style.display="",c(this,d,!1),h(this.el,"dropdown.closed")))}}return u=new WeakMap,y=new WeakMap,f=new WeakMap,d=new WeakMap,v=new WeakMap,w=new WeakMap,x=new WeakMap,E=new WeakSet,$=function(){const t=["none","fade"];this.options.animationType=this.options.animationType.toLowerCase(),t.includes(this.options.animationType)||(this.options.animationType="none"),this.options.animationType==="fade"&&!this.options.hover&&(r(this,u).style.transitionDuration=this.options.animationDuration+"ms",this.el.classList.add("dropdown-anim-fade"))},O=new WeakSet,U=function(t){t.target===r(this,y)||r(this,f)||!r(this,d)||!this.options.closeOnClick&&t.target.closest(".dropdown-content")||this.close()},T=new WeakSet,N=function(t){t.preventDefault(),!r(this,f)&&(r(this,d)?this.close():this.open())},b=new WeakSet,B=function(){W("Dropdown").forEach(t=>{t.el.id!==this.el.id&&t.close()})},A=new WeakSet,H=function(){const t=r(this,u).getBoundingClientRect(),a=t.height-(t.bottom-(window.innerHeight||document.documentElement.clientHeight))-10;r(this,u).style.maxHeight=a+"px"},k(I,"getDefaultOptions",()=>j),M({class:I,name:"Dropdown",dataDetection:!0,autoInit:{enabled:!0,selector:".dropdown"}}),I});
