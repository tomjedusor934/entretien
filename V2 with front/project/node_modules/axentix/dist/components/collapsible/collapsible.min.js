var rt=Object.defineProperty;var lt=(n,i,r)=>i in n?rt(n,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[i]=r;var H=(n,i,r)=>(lt(n,typeof i!="symbol"?i+"":i,r),r),z=(n,i,r)=>{if(!i.has(n))throw TypeError("Cannot "+r)};var o=(n,i,r)=>(z(n,i,"read from private field"),r?r.call(n):i.get(n)),c=(n,i,r)=>{if(i.has(n))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(n):i.set(n,r)},a=(n,i,r,g)=>(z(n,i,"write to private field"),g?g.call(n,r):i.set(n,r),r);var f=(n,i,r)=>(z(n,i,"access private method"),r);(function(n,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(n=typeof globalThis!="undefined"?globalThis:n||self,n.Collapsible=i())})(this,function(){var m,D,x,u,v,b,y,C,p,I,M,T,B,k,P,O,U,S,Z,w,N,q,G;"use strict";var n="";const i=[],r={components:[],plugins:[],prefix:"ax",mode:""},g=s=>r.components.find(e=>e.name===s).class,R=()=>{const s=r.components.filter(t=>t.dataDetection),e=r.plugins.filter(t=>t.dataDetection);return[...s,...e].map(t=>t.name)},J=(s,e)=>{if(!s.name||!s.class){console.error(`[Axentix] Error registering ${e} : Missing required parameters.`);return}if(r[e].some(t=>t.name===s.name)){console.error(`[Axentix] Error registering ${e} : Already exist.`);return}s.autoInit&&(s.autoInit.selector=s.autoInit.selector+=":not(.no-axentix-init)"),r[e].push(s)},K=s=>{J(s,"components")},Q=s=>s.replace(/[\w]([A-Z])/g,e=>e[0]+"-"+e[1]).toLowerCase(),V=(s,e="")=>{const t=Q(s);return e?e+"-"+t:t},X=(s,e,t,l,d="")=>{const h=e[0].toUpperCase()+e.slice(1).toLowerCase();R().includes(h)&&t!=="Collapsible"&&h!=="Sidenav"&&(s[e]=g(h).getDefaultOptions());const L=d?d+"-"+e:e,E=W(s[e],t,l,L);if(!(Object.keys(E).length===0&&s.constructor===Object))return E},W=(s,e,t,l="")=>Object.keys(s).reduce((d,h)=>{if(typeof s[h]=="object"&&s[h]!==null){const L=X(s,h,e,t,l);L&&(d[h]=L)}else if(s[h]!==null){const L="data-"+e.toLowerCase()+"-"+V(h,l);if(t.hasAttribute(L)){const E=t.getAttribute(L);d[h]=typeof s[h]=="number"?Number(E):E,typeof s[h]=="boolean"&&(d[h]=E==="true")}}return d},{}),Y=(s,e)=>{const t=Object.assign({},g(s).getDefaultOptions());return W(t,s,e)},_=()=>{document.querySelectorAll("[data-ax]").forEach(e=>{let t=e.dataset.ax;if(t=t[0].toUpperCase()+t.slice(1).toLowerCase(),!R().includes(t)){console.error(`[Axentix] Error: ${t} component doesn't exist. 
 Did you forget to register him ?`,e);return}try{const l=g(t);new l(`#${e.id}`)}catch(l){console.error("[Axentix] Data: Unable to load "+t,l)}})},j=()=>{try{new Axentix.Axentix("all")}catch(s){console.error("[Axentix] Unable to auto init.",s)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&j(),_()});const F=(...s)=>s.reduce((e,t)=>{for(let l in t)e[l]=typeof t[l]=="object"&&t[l]!==null?F(e[l],t[l]):t[l];return e},{}),tt=(s,e,t)=>F(g(s).getDefaultOptions(),Y(s,t),e),A=(s,e,t)=>{const l=new CustomEvent("ax."+e,{detail:t||{},bubbles:!0});s.dispatchEvent(l)},et=s=>i.filter(e=>e.type===s).map(e=>e.instance),st=s=>{const e=i.find(t=>t.type!=="Toast"&&"#"+t.instance.el.id===s);return e?e.instance:!1},it=(s,e='[data-target="{ID}"]')=>Array.from(document.querySelectorAll(e.replace("{ID}",s)));class nt{constructor(){H(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(e){if(e&&st(e))throw new Error(`Instance already exist on ${e}`)}sync(){A(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){A(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){A(this.el,"component.destroy"),this.removeListeners();const e=i.findIndex(t=>t.instance.el.id===this.el.id);i.splice(e,1)}}const ot={animationDuration:300,sidenav:{activeClass:!0,activeWhenOpen:!0,autoClose:!0}};class $ extends nt{constructor(t,l){super();c(this,I);c(this,T);c(this,k);c(this,O);c(this,S);c(this,w);c(this,q);H(this,"options");c(this,m,void 0);c(this,D,void 0);c(this,x,!0);c(this,u,!1);c(this,v,!1);c(this,b,!1);c(this,y,void 0);c(this,C,void 0);c(this,p,void 0);try{this.preventDbInstance(t),i.push({type:"Collapsible",instance:this}),this.el=document.querySelector(t),this.options=tt("Collapsible",l,this.el),this.setup()}catch(d){console.error("[Axentix] Collapsible init error",d)}}setup(){A(this.el,"collapsible.setup"),a(this,m,it(this.el.id)),a(this,x,!0),a(this,u,!!this.el.classList.contains("active")),a(this,v,!1),a(this,p,""),a(this,b,!1),this.setupListeners(),this.el.style.transitionDuration=this.options.animationDuration+"ms",f(this,T,B).call(this),a(this,b,!!this.el.querySelector(".active")),this.options.sidenav.activeClass&&f(this,k,P).call(this),o(this,u)&&this.open(),a(this,x,!1)}setupListeners(){a(this,y,f(this,q,G).bind(this)),o(this,m).forEach(t=>t.addEventListener("click",o(this,y))),a(this,C,f(this,I,M).bind(this)),window.addEventListener("resize",o(this,C))}removeListeners(){o(this,m).forEach(t=>t.removeEventListener("click",o(this,y))),a(this,y,void 0),window.removeEventListener("resize",o(this,C)),a(this,C,void 0)}open(){o(this,u)&&!o(this,x)||(A(this.el,"collapsible.open"),a(this,u,!0),a(this,v,!0),this.el.style.display="block",f(this,w,N).call(this),this.el.style.maxHeight=this.el.scrollHeight+"px",this.options.sidenav.activeWhenOpen&&f(this,O,U).call(this,!0),this.options.sidenav.autoClose&&f(this,S,Z).call(this),setTimeout(()=>{a(this,v,!1)},this.options.animationDuration))}close(){!o(this,u)||(A(this.el,"collapsible.close"),a(this,v,!0),this.el.style.maxHeight="",f(this,w,N).call(this),this.options.sidenav.activeWhenOpen&&f(this,O,U).call(this,!1),setTimeout(()=>{this.el.style.display="",a(this,v,!1),a(this,u,!1)},this.options.animationDuration))}}return m=new WeakMap,D=new WeakMap,x=new WeakMap,u=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,C=new WeakMap,p=new WeakMap,I=new WeakSet,M=function(){o(this,u)&&!o(this,p)&&(this.el.style.maxHeight=this.el.scrollHeight+"px")},T=new WeakSet,B=function(){const t=this.el.closest(".sidenav");t&&(a(this,p,t.id),a(this,D,o(this,m).filter(l=>{var d;return((d=l.closest(".sidenav"))==null?void 0:d.id)===t.id})))},k=new WeakSet,P=function(){!o(this,b)||!o(this,p)||(o(this,D).forEach(t=>t.classList.add("active")),this.el.classList.add("active"),this.open(),a(this,u,!0))},O=new WeakSet,U=function(t){!o(this,p)||o(this,D).forEach(l=>{t?l.classList.add("active"):l.classList.remove("active")})},S=new WeakSet,Z=function(){!o(this,x)&&o(this,p)&&et("Collapsible").forEach(t=>{o(t,p)===o(this,p)&&t.el.id!==this.el.id&&t.close()})},w=new WeakSet,N=function(){this.el.style.overflow="hidden",setTimeout(()=>{this.el.style.overflow=""},this.options.animationDuration)},q=new WeakSet,G=function(t){t.preventDefault(),!o(this,v)&&(o(this,u)?this.close():this.open())},H($,"getDefaultOptions",()=>ot),K({class:$,name:"Collapsible",dataDetection:!0,autoInit:{enabled:!0,selector:".collapsible"}}),$});
