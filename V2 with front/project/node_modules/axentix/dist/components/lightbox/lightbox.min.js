var Et=Object.defineProperty;var Ct=(l,n,a)=>n in l?Et(l,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[n]=a;var K=(l,n,a)=>(Ct(l,typeof n!="symbol"?n+"":n,a),a),G=(l,n,a)=>{if(!n.has(l))throw TypeError("Cannot "+a)};var e=(l,n,a)=>(G(l,n,"read from private field"),a?a.call(l):n.get(l)),h=(l,n,a)=>{if(n.has(l))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(l):n.set(l,a)},o=(l,n,a,C)=>(G(l,n,"write to private field"),C?C.call(l,a):n.set(l,a),a);var u=(l,n,a)=>(G(l,n,"access private method"),a);(function(l,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n():typeof define=="function"&&define.amd?define(n):(l=typeof globalThis!="undefined"?globalThis:l||self,l.Lightbox=n())})(this,function(){var O,D,k,A,R,p,T,I,c,x,L,y,N,v,b,w,S,_,U,j,H,tt,P,et,W,it,X,st,$,nt,z,ot,q,rt,B,ht,M,Y,lt,F,at;"use strict";var l="";const n=[],a={components:[],plugins:[],prefix:"ax",mode:""},C=s=>a.components.find(i=>i.name===s).class,J=()=>{const s=a.components.filter(t=>t.dataDetection),i=a.plugins.filter(t=>t.dataDetection);return[...s,...i].map(t=>t.name)},ct=(s,i)=>{if(!s.name||!s.class){console.error(`[Axentix] Error registering ${i} : Missing required parameters.`);return}if(a[i].some(t=>t.name===s.name)){console.error(`[Axentix] Error registering ${i} : Already exist.`);return}s.autoInit&&(s.autoInit.selector=s.autoInit.selector+=":not(.no-axentix-init)"),a[i].push(s)},dt=s=>{ct(s,"components")},pt=s=>s.replace(/[\w]([A-Z])/g,i=>i[0]+"-"+i[1]).toLowerCase(),ut=(s,i="")=>{const t=pt(s);return i?i+"-"+t:t},ft=(s,i,t,r,f="")=>{const d=i[0].toUpperCase()+i.slice(1).toLowerCase();J().includes(d)&&t!=="Collapsible"&&d!=="Sidenav"&&(s[i]=C(d).getDefaultOptions());const g=f?f+"-"+i:i,E=Q(s[i],t,r,g);if(!(Object.keys(E).length===0&&s.constructor===Object))return E},Q=(s,i,t,r="")=>Object.keys(s).reduce((f,d)=>{if(typeof s[d]=="object"&&s[d]!==null){const g=ft(s,d,i,t,r);g&&(f[d]=g)}else if(s[d]!==null){const g="data-"+i.toLowerCase()+"-"+ut(d,r);if(t.hasAttribute(g)){const E=t.getAttribute(g);f[d]=typeof s[d]=="number"?Number(E):E,typeof s[d]=="boolean"&&(f[d]=E==="true")}}return f},{}),yt=(s,i)=>{const t=Object.assign({},C(s).getDefaultOptions());return Q(t,s,i)},vt=()=>{document.querySelectorAll("[data-ax]").forEach(i=>{let t=i.dataset.ax;if(t=t[0].toUpperCase()+t.slice(1).toLowerCase(),!J().includes(t)){console.error(`[Axentix] Error: ${t} component doesn't exist. 
 Did you forget to register him ?`,i);return}try{const r=C(t);new r(`#${i.id}`)}catch(r){console.error("[Axentix] Data: Unable to load "+t,r)}})},wt=()=>{try{new Axentix.Axentix("all")}catch(s){console.error("[Axentix] Unable to auto init.",s)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&wt(),vt()});const V=(...s)=>s.reduce((i,t)=>{for(let r in t)i[r]=typeof t[r]=="object"&&t[r]!==null?V(i[r],t[r]):t[r];return i},{}),gt=(s,i,t)=>V(C(s).getDefaultOptions(),yt(s,t),i),mt=(s,i=document.createElement("div"))=>(s[0].parentElement.insertBefore(i,s[0]),s.forEach(r=>i.appendChild(r)),i),m=(s,i,t)=>{const r=new CustomEvent("ax."+i,{detail:t||{},bubbles:!0});s.dispatchEvent(r)},xt=s=>{const i=n.find(t=>t.type!=="Toast"&&"#"+t.instance.el.id===s);return i?i.instance:!1};class Lt{constructor(){K(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(i){if(i&&xt(i))throw new Error(`Instance already exist on ${i}`)}sync(){m(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){m(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){m(this.el,"component.destroy"),this.removeListeners();const i=n.findIndex(t=>t.instance.el.id===this.el.id);n.splice(i,1)}}const bt={animationDuration:400,overlayClass:"grey dark-4",offset:150,mobileOffset:80,caption:""};class Z extends Lt{constructor(t,r){super();h(this,S);h(this,U);h(this,H);h(this,P);h(this,W);h(this,X);h(this,$);h(this,z);h(this,q);h(this,B);h(this,Y);h(this,F);K(this,"options");h(this,O,void 0);h(this,D,void 0);h(this,k,void 0);h(this,A,void 0);h(this,R,void 0);h(this,p,void 0);h(this,T,void 0);h(this,I,void 0);h(this,c,void 0);h(this,x,0);h(this,L,0);h(this,y,!1);h(this,N,!1);h(this,v,void 0);h(this,b,!1);h(this,w,!1);h(this,M,()=>{e(this,y)&&this.close()});try{this.preventDbInstance(t),n.push({type:"Lightbox",instance:this}),this.el=document.querySelector(t),this.options=gt("Lightbox",r,this.el),this.setup()}catch(f){console.error("[Axentix] Lightbox init error",f)}}setup(){m(this.el,"lightbox.setup"),this.el.style.transitionDuration=this.options.animationDuration+"ms",o(this,v,mt([this.el])),this.setupListeners()}setupListeners(){o(this,O,u(this,F,at).bind(this)),this.el.addEventListener("click",e(this,O)),o(this,k,u(this,q,rt).bind(this)),o(this,A,u(this,B,ht).bind(this)),o(this,R,e(this,M).bind(this)),o(this,D,u(this,z,ot).bind(this)),window.addEventListener("keyup",e(this,k)),window.addEventListener("scroll",e(this,A)),window.addEventListener("resize",e(this,R)),this.el.addEventListener("transitionend",e(this,D))}removeListeners(){this.el.removeEventListener("click",e(this,O)),this.el.removeEventListener("transitionend",e(this,D)),window.removeEventListener("keyup",e(this,k)),window.removeEventListener("scroll",e(this,A)),window.removeEventListener("resize",e(this,R)),o(this,O,void 0),o(this,k,void 0),o(this,A,void 0),o(this,R,void 0),o(this,D,void 0)}open(){o(this,w,!0);let t,r;e(this,b)?t=r=e(this,v).getBoundingClientRect():t=r=this.el.getBoundingClientRect(),o(this,b,!1),u(this,S,_).call(this),u(this,U,j).call(this);const f=window.innerHeight/2,d=window.innerWidth/2;o(this,c,t),this.el.style.width=e(this,c).width+"px",this.el.style.height=e(this,c).height+"px",this.el.style.top="0",this.el.style.left="0";const g=f+window.scrollY-(r.top+window.scrollY),E=d+window.scrollX-(r.left+window.scrollX);u(this,W,it).call(this),e(this,v).style.position="relative",setTimeout(()=>{m(this.el,"lightbox.open"),o(this,y,!0),this.el.classList.contains("responsive-media")&&(o(this,N,!0),this.el.classList.remove("responsive-media")),this.el.classList.add("active"),e(this,v).style.width=e(this,c).width+"px",e(this,v).style.height=e(this,c).height+"px",this.el.style.width=e(this,L)+"px",this.el.style.height=e(this,x)+"px",this.el.style.top=g-e(this,x)/2+"px",this.el.style.left=E-e(this,L)/2+"px"},50)}close(t){(t==null?void 0:t.key)&&t.key!=="Escape"||(o(this,y,!1),o(this,b,!0),o(this,w,!1),m(this.el,"lightbox.close"),u(this,H,tt).call(this),this.el.style.position="absolute",this.el.style.top="0px",this.el.style.left="0px",this.el.style.width=e(this,c).width+"px",this.el.style.height=e(this,c).height+"px")}}return O=new WeakMap,D=new WeakMap,k=new WeakMap,A=new WeakMap,R=new WeakMap,p=new WeakMap,T=new WeakMap,I=new WeakMap,c=new WeakMap,x=new WeakMap,L=new WeakMap,y=new WeakMap,N=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap,S=new WeakSet,_=function(){if(!e(this,p)){if(u(this,X,st).call(this),o(this,p,document.createElement("div")),e(this,p).style.transitionDuration=this.options.animationDuration+"ms",e(this,p).className="lightbox-overlay "+this.options.overlayClass,e(this,v).appendChild(e(this,p)),this.options.caption){const t=document.createElement("p");t.className="lightbox-caption",t.innerHTML=this.options.caption,e(this,p).appendChild(t)}o(this,T,this.close.bind(this)),e(this,p).addEventListener("click",e(this,T))}},U=new WeakSet,j=function(){setTimeout(()=>{e(this,p).style.opacity="1"},50)},H=new WeakSet,tt=function(){e(this,p).style.opacity="0"},P=new WeakSet,et=function(){e(this,p).removeEventListener("click",e(this,T)),e(this,p).remove(),o(this,p,null)},W=new WeakSet,it=function(){const t=window.innerWidth>=960?this.options.offset:this.options.mobileOffset;window.innerWidth/window.innerHeight>=e(this,c).width/e(this,c).height?(o(this,x,window.innerHeight-t),o(this,L,e(this,x)*e(this,c).width/e(this,c).height)):(o(this,L,window.innerWidth-t),o(this,x,e(this,L)*e(this,c).height/e(this,c).width))},X=new WeakSet,st=function(){o(this,I,[]);for(let t=this.el;t&&t!==document;t=t.parentNode){const r=window.getComputedStyle(t);(r.overflow==="hidden"||r.overflowX==="hidden"||r.overflowY==="hidden")&&(e(this,I).push(t),t!==document.body&&t.style.setProperty("overflow","visible","important"),document.body.style.overflowX="hidden")}},$=new WeakSet,nt=function(){e(this,I).forEach(t=>t.style.overflow=""),document.body.style.overflowX=""},z=new WeakSet,ot=function(t){!t.propertyName.includes("width")&&!t.propertyName.includes("height")||(e(this,b)?(u(this,Y,lt).call(this),o(this,b,!1),o(this,y,!1),m(this.el,"lightbox.closed")):e(this,w)&&(o(this,w,!1),m(this.el,"lightbox.opened")))},q=new WeakSet,rt=function(t){t.key==="Escape"&&(e(this,w)||e(this,y))&&this.close()},B=new WeakSet,ht=function(){(e(this,y)||e(this,w))&&this.close()},M=new WeakMap,Y=new WeakSet,lt=function(){this.el.classList.remove("active"),u(this,P,et).call(this),u(this,$,nt).call(this),e(this,N)&&this.el.classList.add("responsive-media"),e(this,v).removeAttribute("style"),this.el.style.position="",this.el.style.left="",this.el.style.top="",this.el.style.width="",this.el.style.height="",this.el.style.transform=""},F=new WeakSet,at=function(){if(e(this,w)||e(this,y)){this.close();return}this.open()},K(Z,"getDefaultOptions",()=>bt),dt({class:Z,name:"Lightbox",dataDetection:!0,autoInit:{enabled:!0,selector:".lightbox"}}),Z});
