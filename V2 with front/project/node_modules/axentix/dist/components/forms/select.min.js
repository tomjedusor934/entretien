var De=Object.defineProperty;var Oe=(a,i,d)=>i in a?De(a,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[i]=d;var T=(a,i,d)=>(Oe(a,typeof i!="symbol"?i+"":i,d),d),N=(a,i,d)=>{if(!i.has(a))throw TypeError("Cannot "+d)};var l=(a,i,d)=>(N(a,i,"read from private field"),d?d.call(a):i.get(a)),p=(a,i,d)=>{if(i.has(a))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(a):i.set(a,d)},g=(a,i,d,L)=>(N(a,i,"write to private field"),L?L.call(a,d):i.set(a,d),d);var m=(a,i,d)=>(N(a,i,"access private method"),d);(function(a,i){typeof exports=="object"&&typeof module!="undefined"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(a=typeof globalThis!="undefined"?globalThis:a||self,i(a.Select={}))})(this,function(a){var h,x,u,b,v,I,K,S,Q,w,$,k,X,D,Y,A,V,O,ee;"use strict";const i=[],d={components:[],plugins:[],prefix:"ax",mode:""},L=e=>`--${d.prefix}-${e}`,E=e=>d.components.find(t=>t.name===e).class,B=()=>{const e=d.components.filter(s=>s.dataDetection),t=d.plugins.filter(s=>s.dataDetection);return[...e,...t].map(s=>s.name)},te=(e,t)=>{if(!e.name||!e.class){console.error(`[Axentix] Error registering ${t} : Missing required parameters.`);return}if(d[t].some(s=>s.name===e.name)){console.error(`[Axentix] Error registering ${t} : Already exist.`);return}e.autoInit&&(e.autoInit.selector=e.autoInit.selector+=":not(.no-axentix-init)"),d[t].push(e)},se=e=>{te(e,"components")},ne=e=>e.replace(/[\w]([A-Z])/g,t=>t[0]+"-"+t[1]).toLowerCase(),oe=(e,t="")=>{const s=ne(e);return t?t+"-"+s:s},re=(e,t,s,n,r="")=>{const o=t[0].toUpperCase()+t.slice(1).toLowerCase();B().includes(o)&&s!=="Collapsible"&&o!=="Sidenav"&&(e[t]=E(o).getDefaultOptions());const c=r?r+"-"+t:t,f=H(e[t],s,n,c);if(!(Object.keys(f).length===0&&e.constructor===Object))return f},H=(e,t,s,n="")=>Object.keys(e).reduce((r,o)=>{if(typeof e[o]=="object"&&e[o]!==null){const c=re(e,o,t,s,n);c&&(r[o]=c)}else if(e[o]!==null){const c="data-"+t.toLowerCase()+"-"+oe(o,n);if(s.hasAttribute(c)){const f=s.getAttribute(c);r[o]=typeof e[o]=="number"?Number(f):f,typeof e[o]=="boolean"&&(r[o]=f==="true")}}return r},{}),ie=(e,t)=>{const s=Object.assign({},E(e).getDefaultOptions());return H(s,e,t)},le=()=>{document.querySelectorAll("[data-ax]").forEach(t=>{let s=t.dataset.ax;if(s=s[0].toUpperCase()+s.slice(1).toLowerCase(),!B().includes(s)){console.error(`[Axentix] Error: ${s} component doesn't exist. 
 Did you forget to register him ?`,t);return}try{const n=E(s);new n(`#${t.id}`)}catch(n){console.error("[Axentix] Data: Unable to load "+s,n)}})},ae=()=>{try{new Axentix.Axentix("all")}catch(e){console.error("[Axentix] Unable to auto init.",e)}};document.addEventListener("DOMContentLoaded",()=>{document.documentElement.dataset.axentix&&ae(),le()});const P=(...e)=>e.reduce((t,s)=>{for(let n in s)t[n]=typeof s[n]=="object"&&s[n]!==null?P(t[n],s[n]):s[n];return t},{}),ce=(e,t,s)=>P(E(e).getDefaultOptions(),ie(e,s),t),de=(e,t=document.createElement("div"))=>(e[0].parentElement.insertBefore(t,e[0]),e.forEach(n=>t.appendChild(n)),t),fe=e=>e.replaceWith(...e.childNodes),M=(e,t,s)=>{const n=new CustomEvent("ax."+t,{detail:s||{},bubbles:!0});e.dispatchEvent(n)},ue=e=>{const t=i.find(s=>s.type!=="Toast"&&"#"+s.instance.el.id===e);return t?t.instance:!1},pe=()=>Math.random().toString().split(".")[1],he=e=>e.checkValidity()||e.validationMessage,me=(e,t)=>{const s=document.createElement("div");s.axGenerated=!0,e.appendChild(s),s.classList.add("form-helper-invalid"),s.innerHTML=t},ve=e=>{const t=e.querySelector(".form-helper-invalid");!t||t.axGenerated&&t.remove()},ye=e=>{e.classList.remove("form-valid","form-invalid","form-no-helper"),ve(e)},xe=(e,t)=>{const s=e.getAttribute("data-form-validate");let n=!1;if(s){const c=s.toLowerCase().split(",");if(n=c.includes("auto"),c.includes("lazy")&&t==="input")return}const r=he(e),o=e.closest(".form-field, .form-file");return ye(o),r!==!0?(n&&typeof r=="string"?me(o,r):o.querySelector(".form-helper-invalid")||o.classList.add("form-no-helper"),o.classList.add("form-invalid"),!1):(o.classList.add("form-valid"),o.querySelector(".form-helper-valid")||o.classList.add("form-no-helper"),!0)};let z=!0;const C=e=>{e.forEach(W)},U=e=>{if(z){z=!1;return}setTimeout(()=>{C(e)},10)},W=e=>{const t=e.closest(".form-field"),s=t.querySelector(".form-custom-select"),n=t.classList.contains("active"),r=["date","month","week","time"];let o=s&&e.tagName==="DIV"&&e.innerText.length>0;s||(o=e.value.length>0||e.tagName!=="SELECT"&&e.placeholder.length>0||e.tagName==="SELECT"||r.some(y=>e.matches(`[type="${y}"]`)));const c=document.activeElement===e,f=e.hasAttribute("disabled")||e.hasAttribute("readonly");e.firstInit?(G(e,n,o,c,t,s),e.firstInit=!1,e.isInit=!0):f||G(e,n,o,c,t,s)},G=(e,t,s,n,r,o)=>{const c=e.type==="textarea",f=r.querySelector("label:not(.form-check)");!t&&(s||n)?r.classList.add("active"):t&&!(s||n)&&r.classList.remove("active"),c?f&&(f.style.backgroundColor=Z(f)):ge(e,r,o,f),n&&!c?r.classList.add("is-focused"):o||r.classList.remove("is-focused"),n&&c?r.classList.add("is-textarea-focused"):r.classList.remove("is-textarea-focused")},ge=(e,t,s,n)=>{const r=e.clientWidth,o=e.offsetLeft,c=e.clientHeight+(s?s.offsetTop:e.offsetTop)+"px",f=e.closest(".form-material").classList.contains("form-material-bordered");t.style.setProperty(L("form-material-position"),c);let y=o,F="left",ke=r+"px",J=0;t.classList.contains("form-rtl")&&(F="right",y=t.clientWidth-r-o),t.style.setProperty(L(`form-material-${F}-offset`),y+"px"),y!=0&&(J=o),t.style.setProperty(L("form-material-width"),ke),n&&(n.style.left=J+"px",f&&(n.style.backgroundColor=Z(n)))},_=e=>{const t=window.getComputedStyle(e).backgroundColor;if(t&&!["transparent","rgba(0, 0, 0, 0)"].includes(t))return t},Z=e=>{e.style.backgroundColor="";let t=e;for(;t.parentElement;){const n=_(t);if(n)return n;t=t.parentElement}const s=_(document.documentElement);return s||"white"},j=(e,t)=>{e.hasAttribute("data-form-validate")&&xe(e,t.type)},Le=(e,t)=>{e.forEach(s=>{s===t.target&&W(s)})},be=(e,t)=>{t.target.tagName==="FORM"&&t.target.classList.contains("form-material")&&U(e)},Ee=e=>{e.forEach(o=>{o.firstInit=!0,o.validateRef=j.bind(null,o),o.addEventListener("input",o.validateRef),o.addEventListener("change",o.validateRef)}),C(e);const t=Le.bind(null,e);document.addEventListener("focus",t,!0),document.addEventListener("blur",t,!0);const s=U.bind(null,e);window.addEventListener("pageshow",s);const n=be.bind(null,e);document.addEventListener("reset",n);const r=C.bind(null,e);window.addEventListener("resize",r)},we=(e,t)=>{const s=e.files;s.length>1?t.innerHTML=Array.from(s).map(n=>n.name).join(", "):s[0]&&(t.innerHTML=s[0].name)},Ae=e=>{if(e.isInit)return;e.isInit=!0;const t=e.querySelector('input[type="file"]'),s=e.querySelector(".form-file-path");t.handleRef=we.bind(null,t,s),t.validateRef=j.bind(null,t),t.addEventListener("change",t.handleRef),t.addEventListener("input",t.validateRef),t.addEventListener("change",t.validateRef)},Ce=()=>{const e=Array.from(document.querySelectorAll(".form-file"));try{e.forEach(Ae)}catch(t){console.error("[Axentix] Form file error",t)}},R=(e=document.querySelectorAll(".form-material .form-field:not(.form-default) .form-control:not(.form-custom-select)"))=>{const{setupInputs:t,detectInputs:s}=Array.from(e).reduce((n,r)=>(r.isInit?n.detectInputs.push(r):n.setupInputs.push(r),n),{setupInputs:[],detectInputs:[]});Ce();try{t.length>0&&Ee(t),s.length>0&&C(s)}catch(n){console.error("[Axentix] Material forms error",n)}};document.addEventListener("DOMContentLoaded",()=>R());class Ie{constructor(){T(this,"el")}removeListeners(){}setupListeners(){}setup(){}preventDbInstance(t){if(t&&ue(t))throw new Error(`Instance already exist on ${t}`)}sync(){M(this.el,"component.sync"),this.removeListeners(),this.setupListeners()}reset(){M(this.el,"component.reset"),this.removeListeners(),this.setup()}destroy(){M(this.el,"component.destroy"),this.removeListeners();const t=i.findIndex(s=>s.instance.el.id===this.el.id);i.splice(t,1)}}const Se={inputClasses:""};class q extends Ie{constructor(s,n){super();p(this,I);p(this,S);p(this,w);p(this,k);p(this,D);p(this,A);p(this,O);T(this,"options");p(this,h,void 0);p(this,x,void 0);p(this,u,void 0);p(this,b,void 0);p(this,v,void 0);try{this.preventDbInstance(s),i.push({type:"Select",instance:this}),this.el=document.querySelector(s),this.options=ce("Select",n,this.el),this.setup()}catch(r){console.error("[Axentix] Select init error",r)}}setup(){this.el.style.display="none",g(this,x,de([this.el])),l(this,x).className="form-custom-select",m(this,I,K).call(this)}reset(){this.destroy(!0),super.reset()}destroy(s){s||super.destroy(),l(this,h)&&(l(this,h).el.removeEventListener("ax.dropdown.open",l(this,v)),l(this,h).el.removeEventListener("ax.dropdown.close",l(this,v)),g(this,v,null),l(this,h).destroy(),l(this,h).el.remove(),g(this,h,null)),fe(l(this,x)),this.el.classList.add("form-custom-select"),this.el.style.display=""}}h=new WeakMap,x=new WeakMap,u=new WeakMap,b=new WeakMap,v=new WeakMap,I=new WeakSet,K=function(){const s=`dropdown-${pe()}`;g(this,u,document.createElement("div")),l(this,u).className=`form-control ${this.options.inputClasses}`,l(this,u).dataset.target=s;const n=document.createElement("div"),r=this.el.className.replace("form-control","");if(n.className=`dropdown-content ${r}`,this.el.disabled){l(this,u).setAttribute("disabled",""),l(this,x).append(l(this,u)),m(this,w,$).call(this,n);return}g(this,v,m(this,k,X).bind(this));const o=document.createElement("div");o.className="dropdown",o.id=s,o.addEventListener("ax.dropdown.open",l(this,v)),o.addEventListener("ax.dropdown.close",l(this,v)),Array.from(this.el.attributes).forEach(y=>{y.name.startsWith("data-dropdown")&&o.setAttribute(y.name,y.value)}),o.append(l(this,u)),o.append(n),l(this,x).append(o),m(this,w,$).call(this,n);const c=E("Dropdown");g(this,h,new c(`#${s}`,{closeOnClick:!this.el.multiple,preventViewport:!0}));const f=window.getComputedStyle(o).zIndex;g(this,b,this.el.closest(".form-field").querySelector("label:not(.form-check)")),l(this,b)&&(l(this,b).style.zIndex=f+5)},S=new WeakSet,Q=function(s,n){const r=document.createElement("div");r.className="form-field";const o=document.createElement("label");o.className="form-check";const c=document.createElement("input");c.type="checkbox",n&&c.setAttribute("disabled","");const f=document.createElement("span");return f.innerHTML=s,o.append(c,f),r.append(o),r},w=new WeakSet,$=function(s){for(const n of this.el.options){const r=n.hasAttribute("disabled"),o=document.createElement("div");o.className="dropdown-item",o.innerHTML=this.el.multiple?m(this,S,Q).call(this,n.text,r).innerHTML:n.text,o.axValue=n.value||n.text,r?o.classList.add("form-disabled"):(o.axClickRef=m(this,D,Y).bind(this,o),o.addEventListener("click",o.axClickRef)),(n.hasAttribute("selected")||!this.el.multiple&&this.el.value===(n.value||n.text))&&m(this,A,V).call(this,o),s.append(o)}},k=new WeakSet,X=function(){l(this,u).closest(".form-field").classList.toggle("is-focused")},D=new WeakSet,Y=function(s,n){n.preventDefault(),s.classList.contains("form-selected")?m(this,O,ee).call(this,s):m(this,A,V).call(this,s)},A=new WeakSet,V=function(s){const n=s.axValue;this.el.multiple?s.querySelector("input").checked=!0:l(this,h)&&l(this,h).el.querySelectorAll(".dropdown-item").forEach(o=>o.classList.remove("form-selected")),s.classList.add("form-selected");const r=this.el.multiple?[...l(this,u).innerText.split(", ").filter(Boolean),n].join(", "):n;l(this,u).innerText=r,this.el.value=r,R([l(this,u)])},O=new WeakSet,ee=function(s){const n=s.axValue;s.classList.remove("form-selected");let r="";if(this.el.multiple){s.querySelector("input").checked=!1;const o=l(this,u).innerText.split(", ").filter(Boolean),c=o.findIndex(f=>f===n);o.splice(c,1),r=o.join(", ")}l(this,u).innerText=r,this.el.value=r,R([l(this,u)])},T(q,"getDefaultOptions",()=>Se),se({class:q,name:"Select",dataDetection:!0,autoInit:{enabled:!0,selector:".form-custom-select"}}),a.Select=q,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
